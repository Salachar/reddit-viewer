(this["webpackJsonpredux-cra"]=this["webpackJsonpredux-cra"]||[]).push([[0],[,,,,,,function(e,t,a){e.exports={post:"Post_post__1ZCkS",bar:"Post_bar__2ytou",score:"Post_score__3J9Go",thumbnail:"Post_thumbnail__2Mv8T",thumbnail_image:"Post_thumbnail_image__aAX9N",thumbnail_subreddit:"Post_thumbnail_subreddit__2Qpjq",thumbnail_icon:"Post_thumbnail_icon__3_07y",body:"Post_body__1tjlH",body_empty:"Post_body_empty__1ZIC6",title:"Post_title__1sUIr",icon:"Post_icon__2-AFI",submission:"Post_submission__2PLyZ",comments:"Post_comments__1eQ7f",load_comments:"Post_load_comments__3QYMw",comments_wrapper:"Post_comments_wrapper__14RNb",hide:"Post_hide__q3vp2",content_wrapper:"Post_content_wrapper__3IKz1",subreddit_link:"Post_subreddit_link__3RnEj"}},,,function(e,t,a){e.exports={main_links:"Header_main_links__3lpuR",listing:"Header_listing__3drQY",search_label:"Header_search_label__1_-nu",search:"Header_search__1zI1g",subreddit_current:"Header_subreddit_current__3kx1v",subreddit_icon:"Header_subreddit_icon__2OO0L",subreddit_title:"Header_subreddit_title__zjJCE",subreddit_search_error:"Header_subreddit_search_error__1-kBW"}},function(e,t,a){e.exports={wrapper:"Comments_wrapper__h6tw3",comments:"Comments_comments__3NgER",comment_even:"Comments_comment_even__2U9nK",comment_odd:"Comments_comment_odd__3wItb",comment:"Comments_comment__3MfqI",author_info:"Comments_author_info__2FkxD",author_is_op:"Comments_author_is_op__wYCnL",score:"Comments_score__1gShr",body:"Comments_body__1B94B",award:"Comments_award__yjfLH",gold:"Comments_gold__6PfTT",silver:"Comments_silver__3ggsF"}},,function(e,t,a){e.exports={sidemenu:"SideMenu_sidemenu__2GrsV",title:"SideMenu_title__rRgxI",section:"SideMenu_section__3Wl6k",section_title:"SideMenu_section_title__3EIq3"}},,function(e,t,a){e.exports={thumbnails:"Gallery_thumbnails__3PGUn",thumbnail:"Gallery_thumbnail__2pPAD",selected_image:"Gallery_selected_image__8Pk5t",full_size:"Gallery_full_size__3cThD"}},function(e,t,a){e.exports={subreddit:"Subreddit_subreddit__2lgPg",checkbox:"Subreddit_checkbox__2UDbU",title:"Subreddit_title__3_NX6",subscribers:"Subreddit_subscribers__2uqEG"}},function(e,t,a){e.exports={wrapper:"App_wrapper__2CBHV",header:"App_header__SZGgc",articleList:"App_articleList__1F2Yd",sideMenu:"App_sideMenu__3EQTh"}},,,function(e,t,a){e.exports={content:"Link_content__10cBw",link:"Link_link__2vhKr",link_address:"Link_link_address__15p7b"}},,,,function(e,t,a){e.exports={media:"Image_media__2V2Pq",media_max:"Image_media_max__99lxE"}},function(e,t,a){e.exports={media:"Video_media__2ghAf"}},function(e,t,a){e.exports={wrapper:"Posts_wrapper__11-4S",load_more:"Posts_load_more__1Ku_9"}},,,,,function(e,t,a){e.exports={search:"Search_search__19ult"}},function(e,t,a){e.exports={content:"Text_content__1lINs"}},,function(e,t,a){e.exports=a(45)},,,,,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),i=a.n(s),c=a(7),o=a(13),d=a(28),u={byID:{}},l=a(5),m={current:{}},_={subscribed:[],subscribed_map:{},search_list:[],data:{},subreddit_search_error:!1},b=Object(o.c)({comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"post":var a=e.byID,n=void 0===a?{}:a;return n[t.payload.data.id]=t.payload.comments,{byID:n};default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"posts":return t.payload.list_append?Object(l.a)(Object(l.a)({},e),{},{current:Object(l.a)(Object(l.a)({},e.current),{},{list_append:!0,list:e.current.list.concat(t.payload.list)})}):Object(l.a)(Object(l.a)({},e),{},{current:t.payload});default:return e}},subreddits:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"subscribe_subreddit":var a={};return(t.payload||[]).forEach((function(e){a[e.id]=e})),Object(l.a)(Object(l.a)({},e),{},{subscribed:t.payload,subscribed_map:a});case"subreddit_data":var n=e.data,r=t.payload;return n[r.name]=r,Object(l.a)(Object(l.a)({},e),{},{data:n});case"search_subreddits":var s=e.data,i=t.payload;return i.forEach((function(e){s[e.name]=e})),Object(l.a)(Object(l.a)({},e),{},{search_list:i,data:s});case"clear_search":return Object(l.a)(Object(l.a)({},e),{},{search_list:[]});case"subreddit_search_error":return Object(l.a)(Object(l.a)({},e),{},{subreddit_search_error:!0});case"subreddit_search_clear":return Object(l.a)(Object(l.a)({},e),{},{subreddit_search_error:!1});default:return e}}});a(44);var p=a(1),h=a(2),f=a(4),v=a(3);function y(e){return JSON.parse(JSON.stringify(e))}function g(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function k(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}function O(e,t){return new Promise((function(a,n){try{fetch(e).then((function(e){return e.json()})).then((function(e){try{a(t(e))}catch(r){n(r)}})).catch((function(e){n(e)}))}catch(r){n(r)}}))}var j=a(29),x=a.n(j);function E(e){return e.replace(/&amp;/g,"&")}function C(e){try{!e.author&&e.kind&&(e=e.data.children[0].data);var t=function(e){return Object(l.a)(Object(l.a)({},e),{},{title:(e.title||"").replace(/&amp;/g,"&"),empty:!1,type:"none",content:{},media:{},thumbnail:e.thumbnail.match(/self|spoiler|default/)?null:e.thumbnail,score_display:(t=e.score,t>1e5?Math.floor(t/1e3)+"K":t>1e4?(t/1e3).toFixed(1)+"K":t),submitted_at:function(e){var t=(new Date).getTime()-new Date(1e3*e).getTime();return(t=t/1e3/60)>60?Math.floor(t/60)+" hours":Math.floor(t)+" minutes"}(e.created_utc),awards:(e.all_awardings||[]).map((function(e){return{name:e.name.toLowerCase(),count:e.count,key:"".concat(e.id,"-").concat(g())}}))});var t}(e);if(function(e){return e.is_self}(e))t.type="text",t.content.body=e.selftext,t.content.body_html=e.selftext_html,t.content.body||t.content.body_html||(t.empty=!0);else if(function(e){return!(!e.post_hint||-1===e.post_hint.indexOf("video"))||(!(!e.url||!e.url.match(/.gifv/))||!!(e.url&&e.is_video&&e.is_reddit_media_domain))}(e))t.type="video";else if(function(e){return!(!e.post_hint||-1===e.post_hint.indexOf("image"))||!(!e.url||!e.url.match(/.jpg|.jpeg|.png|.bmp|.gif/))}(e))t.type="image",t.media.image=e.url;else if(function(e){return!!e.is_gallery||!(-1===e.url.indexOf("gallery")||!e.gallery_data)}(e)){t.type="gallery",t.media.images=[];var a=t.media_metadata||{};t.media.images=t.gallery_data.items.map((function(e){return{id:a[e.media_id].id,mime_type:a[e.media_id].m,resolutions:a[e.media_id].p.map((function(e){return{width:e.x,height:e.y,source:E(e.u)}})),thumbnail:{source:E(a[e.media_id].p[0].u)},width:a[e.media_id].s.x,height:a[e.media_id].s.y,source:E(a[e.media_id].s.u)}}))}else e.url&&(t.type="link");return t}catch(n){return console.error(n),null}}function N(e){var t={id:e.name,description:e.public_description,name:e.display_name.toLowerCase(),display_name:e.display_name,url:e.url,banner:e.banner_img,icon:e.icon_img,subscribers:{display:e.subscribers,full:e.subscribers},full_data:e},a=t.subscribers.full;return a>1e6?t.subscribers.display=(a/1e5).toFixed(1)+"M":a>1e5?t.subscribers.display=Math.floor(a/1e3)+"K":a>1e4&&(t.subscribers.display=(a/1e3).toFixed(1)+"K"),t}var w=function(e){return function(t){O("https://www.reddit.com/r/".concat(e.name,"/about.json"),(function(e){return N(e.data)})).then((function(e){t({type:"subreddit_data",payload:e})}))}},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a,n){var r=t.limit,s=void 0===r?25:r,i=t.count,c=t.after;e.name=e.name||e.title.toLowerCase(),e.type=e.type||"subreddit";var o=y(n().posts.current.subreddit||{}),d=o&&o.name===e.name;if("subreddit"===e.type){var u=y((n().subreddits||{}).data||{})[e.name];u?e=u:a(w(e))}var l="https://www.reddit.com/".concat(e.url,".json?limit=").concat(s);i&&(l+="&count=".concat(i)),c&&(l+="&after=".concat(c)),O(l,(function(t){return{title:e.title||e.name,subreddit:e,list_append:d&&Boolean(c),list:t.data.children.map((function(e){return C(e.data)}))}})).then((function(e){a({type:"posts",payload:e})})).catch((function(e){}))}},P=a(8),M=a.n(P),I=a(9),T=a.n(I),L=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).searchCollection=function(t){var a=e.props,n=a.subscribed;(0,a.fetchPosts)({title:"Subscribed",type:"listing",url:"/r/"+n.map((function(e){return e.name})).join("+")})},e.onClick=function(t){e.props.fetchPosts({title:t.currentTarget.dataset.listing,type:"listing",url:t.currentTarget.dataset.listing})},e.onSearch=function(t){var a=e.props,n=a.clearSubredditSearchError,r=a.fetchSubreddit;if(n(),"enter"===t.key.toLowerCase()){var s=t.currentTarget.value;r({title:t.currentTarget.value,type:"subreddit",url:"/r/"+s})}},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.posts,n=void 0===a?{}:a,s=e.subreddits_data,i=e.subreddit_search_error,c=n.title,o=n.subreddit,d=s[(void 0===o?{}:o).name]||{};return r.a.createElement("header",{className:M()(T.a.listings,t)},r.a.createElement("div",{className:T.a.main_links},r.a.createElement("span",{onClick:this.onClick,"data-listing":"best",className:T.a.listing},"Best"),r.a.createElement("span",{onClick:this.onClick,"data-listing":"top",className:T.a.listing},"Top"),r.a.createElement("span",{onClick:this.onClick,"data-listing":"new",className:T.a.listing},"New"),r.a.createElement("span",{onClick:this.onClick,"data-listing":"hot",className:T.a.listing},"Hot"),r.a.createElement("span",{onClick:this.searchCollection,"data-listing":"subscribed",className:T.a.listing},"Subscribed"),r.a.createElement("span",{className:T.a.search_label},"/r/"),r.a.createElement("input",{className:T.a.search,spellCheck:"false",onKeyDown:this.onSearch,placeholder:"subreddit"}),i&&r.a.createElement("span",{className:T.a.subreddit_search_error},"SUBREDDIT NOT FOUND")),r.a.createElement("div",{className:T.a.subreddit_current},d.icon&&r.a.createElement("img",{className:T.a.subreddit_icon,src:d.icon,alt:"Subreddit Icon"}),r.a.createElement("span",{className:T.a.subreddit_title},c||"")))}}]),a}(n.Component),D={fetchPosts:S,fetchSubreddit:function(e){return function(t,a){if(e.name=e.title.toLowerCase(),"subreddit"===e.type){var n=y((a().subreddits||{}).data||{})[e.name];n?e=n:t(w(e))}O("https://www.reddit.com/".concat(e.url,".json?limit=25"),(function(t){return{title:e.title||e.name,subreddit:e,list:t.data.children.map((function(e){return C(e.data)}))}})).then((function(e){t({type:"posts",payload:e}),t({type:"subreddit_search_clear"})})).catch((function(e){t({type:"subreddit_search_error"})}))}},clearSubredditSearchError:function(){return function(e){e({type:"subreddit_search_clear"})}}},H=Object(c.b)((function(e){return{subreddits_data:e.subreddits.data,subscribed:e.subreddits.subscribed||[],subreddit_search_error:e.subreddits.subreddit_search_error||!1,posts:e.posts.current}}),D)(L),A=a(12),G=a.n(A),B=a(30),K=a.n(B),q=a(15),F=a.n(q),R=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onClick=function(t){e.props.fetchPosts(e.props.subreddit)},e.onSubscribe=function(t){var a=t.currentTarget.checked;e.props.subscribeSubreddit(e.props.subreddit,a?"add":"remove")},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:F.a.subreddit},r.a.createElement("input",{type:"checkbox",checked:this.props.checked,onChange:this.onSubscribe,className:F.a.checkbox}),r.a.createElement("span",{onClick:this.onClick,className:F.a.title},this.props.subreddit.display_name),r.a.createElement("span",{className:F.a.subscribers},this.props.subreddit.subscribers.display))}}]),a}(n.Component),U={fetchPosts:S,subscribeSubreddit:function(e,t){return function(a,n){var r=y((n().subreddits||{}).subscribed||[]);"add"===t&&r.push(e),"remove"===t&&(r=r.filter((function(t){return t.id!==e.id}))),a({type:"subscribe_subreddit",payload:r})}}},z=Object(c.b)(null,U)(R),J=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).search=function(e){var t=n.props,a=t.searchSubreddits,r=t.clearSearch,s=e.currentTarget.value;if(!s)return clearTimeout(n.search_timer),n.search_timer=null,void r();"enter"!==e.key.toLowerCase()?(clearTimeout(n.search_timer),n.search_timer=null,n.search_timer=setTimeout((function(){a(s)}),300)):a(s)},n.search_timer=null,n}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.search_list,a=e.subscribed_map;return r.a.createElement("div",{className:G.a.section},r.a.createElement("div",{className:G.a.section_title},"Search:"),r.a.createElement("input",{className:K.a.search,spellCheck:"false",onKeyUp:this.search,placeholder:"subreddit name"}),(t||[]).map((function(e){return r.a.createElement(z,{key:"search_".concat(e.id),checked:!!a[e.id],subreddit:e})})))}}]),a}(n.Component),Q={searchSubreddits:function(e){return function(t){var a="https://www.reddit.com/subreddits/search.json?q=".concat(e);O(a,(function(t){return function(e,t){return e.sort((function(e,a){var n=-1!==e.name.indexOf(t),r=-1!==a.name.indexOf(t);return n&&r?a.subscribers.full-e.subscribers.full:n?-1:r?1:a.subscribers.full-e.subscribers.full})),e}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var t=e.data;return N(void 0===t?{}:t)}))}(t.data.children),e)})).then((function(e){t({type:"search_subreddits",payload:e})}))}},clearSearch:function(){return function(e){e({type:"clear_search"})}}};J.defaultProps={subreddits:[],subscribed_map:{}};var V=Object(c.b)((function(e){return{search_list:e.subreddits.search_list,subscribed_map:e.subreddits.subscribed_map}}),Q)(J),W=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:G.a.section},r.a.createElement("div",{className:G.a.section_title},"Subscribed:"),(this.props.subscribed||[]).map((function(e){return r.a.createElement(z,{key:"subbed_".concat(e.id),checked:!0,subreddit:e})})))}}]),a}(n.Component),Y=Object(c.b)((function(e){return{subscribed:e.subreddits.subscribed}}),null)(W),Z=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.className;return r.a.createElement("div",{className:M()(G.a.sidemenu,e)},r.a.createElement("div",{className:G.a.title},"Subreddits"),r.a.createElement(Y,{subscribed:this.props.subscribed}),r.a.createElement(V,null))}}]),a}(n.Component),X=Object(c.b)((function(e){return{subscribed:e.subreddits.subscribed}}),null)(Z),$=a(11),ee=a(18),te=a(32),ae=a(23),ne=a.n(ae),re=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={is_media_max:!1},n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props.post,a=this.state.is_media_max;return r.a.createElement("img",{alt:"Parse for text",className:M()(ne.a.media,Object($.a)({},ne.a.media_max,a)),src:t.media.image,onClick:function(){e.setState({is_media_max:!a})}})}}]),a}(n.Component),se=a(31),ie=a.n(se),ce=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.post;return r.a.createElement("div",{className:ie.a.content,dangerouslySetInnerHTML:{__html:k(e.content.body_html)}})}}]),a}(n.Component),oe=a(19),de=a.n(oe),ue=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.post;return r.a.createElement("div",{className:de.a.content},r.a.createElement("a",{className:de.a.link,href:e.url,target:"_blank",rel:"noopener noreferrer"},"Go To Article"),r.a.createElement("a",{className:de.a.link_address,href:e.url,target:"_blank",rel:"noopener noreferrer"},e.url))}}]),a}(n.Component),le=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(p.a)(this,e);var a=t.url;console.log(a),this.fetchManifest(a)}return Object(h.a)(e,[{key:"fetchManifest",value:function(e){O(e,(function(e){return e})).then((function(e){console.log(e)}))}}]),e}(),me=a(24),_e=a.n(me),be=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).ref_media=r.a.createRef(),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){if(this.ref_media&&this.ref_media.current){var e=this.ref_media.current.getElementsByTagName("iframe")[0],t=e.width/e.height;e.width=this.ref_media.current.clientWidth,e.height=this.ref_media.current.clientWidth/t}}},{key:"render",value:function(){var e=this.props.post,t=void 0===e?{}:e,a=t.secure_media,n=void 0===a?{}:a,s=t.secure_media_embed,i=void 0===s?{}:s;return n.reddit_video.dash_url&&new le({url:n.reddit_video.dash_url}),n.reddit_video?r.a.createElement("video",{className:_e.a.media,controls:!0,src:n.reddit_video.fallback_url}):i.content?r.a.createElement("div",{className:_e.a.media,dangerouslySetInnerHTML:{__html:k(t.secure_media_embed.content)},ref:this.ref_media}):void 0}}]),a}(n.Component),pe=a(14),he=a.n(pe),fe=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={is_media_max:!1,selected_image:null},n}return Object(h.a)(a,[{key:"renderSelectedImage",value:function(){var e=this,t=this.state,a=t.is_media_max,n=t.selected_image;if(!n)return null;var s=n.source;return a||n.resolutions.forEach((function(e){e.height<=window.innerHeight&&(s=e.source)})),r.a.createElement("img",{alt:"Gallery Main Image",className:M()(he.a.selected_image,Object($.a)({},he.a.full_size,a)),src:s,onClick:function(){e.setState({is_media_max:!a})}})}},{key:"render",value:function(){var e=this,t=this.props.post;return r.a.createElement("div",{className:he.a.wrapper},r.a.createElement("div",{className:he.a.thumbnails},t.media.images.map((function(t){return r.a.createElement("img",{alt:"Gallery Image",className:he.a.thumbnail,src:t.thumbnail.source,onClick:function(){e.setState({is_media_max:!1,selected_image:t})}})}))),this.renderSelectedImage())}}]),a}(n.Component),ve=a(10),ye=a.n(ve),ge=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"renderComments",value:function(e){var t=this;if(e&&e.length){var a=this.props.post;return e.map((function(e){return r.a.createElement("div",{key:e.key,className:"".concat(ye.a.comment," ").concat(e.even?ye.a.comment_even:ye.a.comment_odd)},r.a.createElement("div",{className:ye.a.author_info},r.a.createElement("span",{className:M()(ye.a.author,Object($.a)({},ye.a.author_is_op,a.author===e.author))},e.author),r.a.createElement("span",{className:ye.a.score},e.score," points"),(e.awards||[]).map((function(e){return e.name.match(/gold|silver/)?r.a.createElement("div",{key:e.key,className:"".concat(ye.a.award," ").concat(ye.a[e.name])},e.count):r.a.createElement("div",{key:e.key,className:ye.a.award},e.name)}))),r.a.createElement("div",{className:ye.a.body,dangerouslySetInnerHTML:{__html:e.body}}),(e.replies||[]).length>0&&r.a.createElement("div",{className:ye.a.comments},t.renderComments(e.replies)))}))}}},{key:"render",value:function(){return r.a.createElement("div",{className:ye.a.wrapper},this.renderComments(this.props.comments))}}]),a}(n.Component),ke=Object(c.b)(null,null)(ge),Oe=a(6),je=a.n(Oe),xe={link:"far fa-newspaper",text:"far fa-comment-alt",image:"far fa-image",video:"fas fa-video",gallery:"far fa-images"},Ee={text:"fas fa-align-left",image:"far fa-image",video:"fas fa-video",link:"fas fa-external-link-alt",gallery:"far fa-images",default:"fa-question-circle"},Ce=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).onClick=function(){var e=n.state,t=e.is_media_expanded,a=e.is_comments_expanded;n.setState({is_media_expanded:!t,is_comments_expanded:!t&&a})},n.state={is_media_expanded:!1,is_comments_expanded:!1},n.onCommentsClick=n.onCommentsClick.bind(Object(ee.a)(n)),n}return Object(h.a)(a,[{key:"onCommentsClick",value:function(){var e=this.props,t=e.post,a=e.fetchPost,n=this.state.is_comments_expanded;n||a(t),this.setState({is_comments_expanded:!n})}},{key:"renderMedia",value:function(e){var t=this.state.is_media_expanded;if(!t)return null;console.log(e);var a=null;switch(e.type){case"video":a=r.a.createElement(be,{post:e});break;case"image":a=r.a.createElement(re,{post:e});break;case"text":a=r.a.createElement(ce,{post:e});break;case"link":a=r.a.createElement(ue,{post:e});break;case"gallery":a=r.a.createElement(fe,{post:e})}return r.a.createElement("div",{className:M()(je.a.content_wrapper,Object($.a)({},je.a.hide,!t))},a)}},{key:"renderComments",value:function(e){var t=this,a=this.props.post,n=this.state,s=n.is_media_expanded,i=n.is_comments_expanded;return s&&!i?r.a.createElement("div",{className:je.a.comments_wrapper},r.a.createElement("div",{className:je.a.load_comments,onClick:function(){t.setState({is_comments_expanded:!i}),t.props.fetchPost(t.props.post)}},"LOAD COMMENTS")):e&&e.length?r.a.createElement("div",{className:M()(je.a.comments_wrapper,Object($.a)({},je.a.hide,!i))},r.a.createElement(ke,{comments:e,post:a})):null}},{key:"renderIcon",value:function(){var e=this.props.post,t=Ee[e.type]||Ee.default;return"text"===e.type&&e.empty&&(t=""),r.a.createElement("i",{onClick:this.onClick,className:M()(je.a.icon,t)})}},{key:"renderThumbnail",value:function(){var e=this.props,t=e.subreddit,a=void 0===t?{}:t,n=e.post,s=je.a.thumbnail;(n.thumbnail||n.media.image)&&(s=M()(s,je.a.thumbnail_image));var i=n.thumbnail||n.media.image||a.icon;return i?(i===a.icon&&(s=M()(s,je.a.thumbnail_subreddit)),r.a.createElement("div",{className:s,style:{backgroundImage:'url("'.concat(i,'")')}})):r.a.createElement("i",{className:M()(je.a.thumbnail_icon,xe[n.type])})}},{key:"render",value:function(){var e=this.state,t=(e.is_media_expanded,e.is_comments_expanded,this.props),a=t.post,n=t.comments,s=t.fetchPosts;if(a){var i=M()(je.a.body,Object($.a)({},je.a.body_empty,a.empty));return r.a.createElement("div",{className:je.a.post},r.a.createElement("div",{className:je.a.bar},r.a.createElement("div",{className:je.a.score},a.score_display),this.renderThumbnail(),r.a.createElement("div",{className:i},r.a.createElement("div",{className:je.a.title},a.title),this.renderIcon(),r.a.createElement("div",{className:je.a.submission},"Submitted ".concat(a.submitted_at," ago by ").concat(a.author," to "),r.a.createElement("span",{className:je.a.subreddit_link,onClick:function(){s({title:a.subreddit,type:"subreddit",name:a.subreddit,url:"/r/".concat(a.subreddit)})}},a.subreddit)),r.a.createElement("div",{className:je.a.comments,onClick:this.onCommentsClick},a.num_comments," comments"))),this.renderMedia(a),this.renderComments(n.byID[a.id]))}}}]),a}(n.Component),Ne={fetchPost:function(e){return function(t){O("https://www.reddit.com/r/".concat(e.subreddit,"/comments/").concat(e.id,".json"),(function(e){var t=Object(te.a)(e,2),a=t[0],n=t[1],r={data:C(a),comments:[]};return(n=n.data.children).forEach((function(e){!function e(t,a,n){if(t.body){var r={id:t.id,key:"".concat(t.id,"_").concat(g()),author:t.author,body:x()(k(t.body_html)),score:t.score,awards:(t.all_awardings||[]).map((function(e){return{name:e.name.toLowerCase(),count:e.count,key:"".concat(e.id,"-").concat(g())}})),even:n};a.push(r),t.replies&&t.replies.data.children&&(r.replies=[],t.replies.data.children.forEach((function(t){e(t.data,r.replies,!n)})))}}(e.data,r.comments,!0)})),r})).then((function(e){t({type:"post",payload:e})}))}},fetchPosts:S},we=Object(c.b)((function(e){return{comments:e.comments}}),Ne)(Ce),Se=a(25),Pe=a.n(Se),Me=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.posts,n=e.subreddits_data,s=e.fetchPosts,i=a.list,c=void 0===i?[]:i,o=a.subreddit,d=void 0===o?{}:o,u=n[d.name]||{};return console.log(u),console.log(a),r.a.createElement("div",{className:M()(Pe.a.wrapper,t)},c.map((function(e){return e&&e.id?r.a.createElement(we,{key:e.id,subreddit:u,post:e}):null})),c.length&&r.a.createElement("div",{className:Pe.a.load_more,onClick:function(){s(d,{count:c.length,after:c[c.length-1].name})}},"LOAD MORE"))}}]),a}(n.Component),Ie={fetchPosts:S},Te=Object(c.b)((function(e){return{subreddits_data:e.subreddits.data,posts:e.posts.current}}),Ie)(Me),Le=a(16),De=a.n(Le),He=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchPosts({title:"best",type:"listing",url:"best"})}},{key:"render",value:function(){return r.a.createElement("div",{className:De.a.wrapper},r.a.createElement(H,{className:De.a.header}),r.a.createElement(Te,{className:De.a.articleList}),r.a.createElement(X,{className:De.a.sideMenu}))}}]),a}(n.Component),Ae={fetchPosts:S},Ge=Object(c.b)(null,Ae)(He);i.a.render(r.a.createElement(c.a,{store:Object(o.d)(b,Object(o.a)(d.a))},r.a.createElement(Ge,null)),document.getElementById("root"))}],[[33,1,2]]]);
//# sourceMappingURL=main.9aa345ff.chunk.js.map